#include <bits/stdc++.h>
using namespace std;
typedef long long int ll;

int findPar(int u, vector<int> &parent)
{
    if (parent[u] == u)
    {
        return u;
    }

    return parent[u] = findPar(parent[u], parent);
}

void unionn(int u, int v, vector<int> &parent, vector<int> &size)
{
    u = findPar(u, parent);
    v = findPar(v, parent);

    if (u != v)
    {
        if (size[u] < size[v])
        {
            parent[u] = v;
            size[v] += size[u];
        }

        else // for(u>u or u==v size )
        {
            parent[v] = u;
            size[u] += size[v];
        }
    }
}

int minMalwareSpread(vector<vector<int>> &graph, vector<int> &initial)
{
    int n = graph.size();

    vector<int> parent(n);
    vector<int> size(n);

    for (int i = 0; i < n; i++)
    {
        parent[i] = i;
        size[i] = 1;
    }

    for (int i = 0; i < n; i++)
    {
        for (int j = 0; j < n; j++)
        {
            if (graph[i][j] == 1)
            {
                unionn(i, j, parent, size);
            }
        }
    }

    vector<int> infected(n);

    for (auto e : initial)
    {
        int p = findPar(e, parent);
        infected[p]++; // counting elements with same parent
    }

    int ans = -1, maxSize = -1;

    for (auto e : initial)
    {
        int p = findPar(e, parent);

        if (infected[p] == 1 and size[p] >= maxSize)
        {
            if (maxSize == size[p])
            {
                ans = min(ans, e);
            }
            else
            {
                ans = e;
            }
            maxSize = size[p];
        }
    }

    if (ans == -1)
    {
        int minv = n + 1;

        for (auto e : initial)
        {
            minv = min(minv, e);
        }

        return minv;
    }

    return ans;
}

int main()
{

    return 0;
}